{"ast":null,"code":"var _jsxFileName = \"/Users/josh/Documents/VS Code/Projects/chat-app/client/src/pages/Chat.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport Window from '../components/Text/Window';\nimport axios from 'axios';\nimport { contactRoute } from '../utils/apiRoutes';\nimport Contacts from '../components/Contacts/Contacts';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Chat() {\n  _s();\n\n  const [contacts, setContacts] = useState();\n  const [user, setUser] = useState();\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (!localStorage.getItem('user')) {\n      navigate('/login');\n    } else {\n      setUser(localStorage.getItem('user'));\n    }\n  }, [navigate]);\n  useEffect(() => {\n    if (user) {\n      axios.get(`${contactRoute}/${user._id}`).then(data => {\n        setContacts(data.data);\n      });\n    }\n  }, [user]);\n\n  const logout = () => {\n    localStorage.removeItem('user');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/login\",\n      onClick: () => logout(),\n      children: \"Logout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Contacts, {\n      contacts: contacts,\n      user: user\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Window, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 7\n  }, this);\n}\n\n_s(Chat, \"sCq7LHYhsCEYnmopR5CzYJXFHLE=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Chat;\nexport default Chat;\n\nvar _c;\n\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","Window","axios","contactRoute","Contacts","Chat","contacts","setContacts","user","setUser","navigate","localStorage","getItem","get","_id","then","data","logout","removeItem"],"sources":["/Users/josh/Documents/VS Code/Projects/chat-app/client/src/pages/Chat.jsx"],"sourcesContent":["import React, { useState , useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport Window from '../components/Text/Window';\nimport axios from 'axios';\nimport { contactRoute } from '../utils/apiRoutes';\nimport Contacts from '../components/Contacts/Contacts';\n\nfunction Chat() {\n\n\tconst [contacts, setContacts] = useState();\n    const [user, setUser] = useState();\n\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        if(!localStorage.getItem('user')) {\n        navigate('/login');\n      }\n      else {\n        setUser(localStorage.getItem('user')\n        )\n      }\n    }, [navigate]);\n\n\tuseEffect(() => {\n\t\tif(user) {\n\t\t\taxios.get(`${contactRoute}/${user._id}`)\n\t\t\t\t.then((data) => {\n\t\t\t\t\tsetContacts(data.data);\n\t\t\t\t})\n\t\t}\n\t}, [user])\n\n    const logout = () => {\n      localStorage.removeItem('user');\n    };\n\n    return (\n      <div>\n        <Link to='/login' onClick={() => logout()}>Logout</Link>\n\t\t\t<Contacts contacts={contacts} user={user}/>\n    \t\t<Window />\n      </div>\n    )\n}\n\nexport default Chat"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA2BC,SAA3B,QAA4C,OAA5C;AACA,SAASC,IAAT,EAAeC,WAAf,QAAkC,kBAAlC;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,YAAT,QAA6B,oBAA7B;AACA,OAAOC,QAAP,MAAqB,iCAArB;;;AAEA,SAASC,IAAT,GAAgB;EAAA;;EAEf,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BV,QAAQ,EAAxC;EACG,MAAM,CAACW,IAAD,EAAOC,OAAP,IAAkBZ,QAAQ,EAAhC;EAEA,MAAMa,QAAQ,GAAGV,WAAW,EAA5B;EAEAF,SAAS,CAAC,MAAM;IACZ,IAAG,CAACa,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAJ,EAAkC;MAClCF,QAAQ,CAAC,QAAD,CAAR;IACD,CAFC,MAGG;MACHD,OAAO,CAACE,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAD,CAAP;IAED;EACF,CARQ,EAQN,CAACF,QAAD,CARM,CAAT;EAUHZ,SAAS,CAAC,MAAM;IACf,IAAGU,IAAH,EAAS;MACRN,KAAK,CAACW,GAAN,CAAW,GAAEV,YAAa,IAAGK,IAAI,CAACM,GAAI,EAAtC,EACEC,IADF,CACQC,IAAD,IAAU;QACfT,WAAW,CAACS,IAAI,CAACA,IAAN,CAAX;MACA,CAHF;IAIA;EACD,CAPQ,EAON,CAACR,IAAD,CAPM,CAAT;;EASG,MAAMS,MAAM,GAAG,MAAM;IACnBN,YAAY,CAACO,UAAb,CAAwB,MAAxB;EACD,CAFD;;EAIA,oBACE;IAAA,wBACE,QAAC,IAAD;MAAM,EAAE,EAAC,QAAT;MAAkB,OAAO,EAAE,MAAMD,MAAM,EAAvC;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAEH,QAAC,QAAD;MAAU,QAAQ,EAAEX,QAApB;MAA8B,IAAI,EAAEE;IAApC;MAAA;MAAA;MAAA;IAAA,QAFG,eAGA,QAAC,MAAD;MAAA;MAAA;MAAA;IAAA,QAHA;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAOH;;GArCQH,I;UAKYL,W;;;KALZK,I;AAuCT,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}